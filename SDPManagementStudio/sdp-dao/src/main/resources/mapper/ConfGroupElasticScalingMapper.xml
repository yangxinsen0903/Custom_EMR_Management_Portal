<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunbox.dao.mapper.ConfGroupElasticScalingMapper">
    <resultMap id="BaseResultMap" type="com.sunbox.domain.ConfGroupElasticScaling">
        <id column="group_es_id" jdbcType="VARCHAR" property="groupEsId"/>
        <result column="cluster_id" jdbcType="VARCHAR" property="clusterId"/>
        <result column="group_name" jdbcType="VARCHAR" property="groupName"/>
        <result column="is_graceful_scalein" jdbcType="INTEGER" property="isGracefulScalein"/>
        <result column="scalein_waiting_time" jdbcType="INTEGER" property="scaleinWaitingTime"/>
        <result column="enable_beforestart_script" jdbcType="INTEGER" property="enableBeforestartScript"/>
        <result column="enable_afterstart_script" jdbcType="INTEGER" property="enableAfterstartScript"/>
        <result column="is_full_custody" jdbcType="INTEGER" property="isFullCustody"/>
        <result column="full_custody_param" jdbcType="VARCHAR" property="fullCustodyParam"/>
        <result column="vm_role" jdbcType="VARCHAR" property="vmRole"/>
        <result column="max_count" jdbcType="INTEGER" property="maxCount"/>
        <result column="min_count" jdbcType="INTEGER" property="minCount"/>
        <result column="scaling_limit_time" jdbcType="TIMESTAMP" property="scalingLimitTime"/>
        <result column="createdby" jdbcType="VARCHAR" property="createdby"/>
        <result column="created_time" jdbcType="TIMESTAMP" property="createdTime"/>
        <result column="modifiedby" jdbcType="VARCHAR" property="modifiedby"/>
        <result column="modified_time" jdbcType="TIMESTAMP" property="modifiedTime"/>
        <result column="is_valid" jdbcType="INTEGER" property="isValid"/>
    </resultMap>
    <sql id="Base_Column_List">
        group_es_id, cluster_id, group_name,group_name,is_graceful_scalein,scalein_waiting_time,
        enable_beforestart_script,enable_afterstart_script,is_full_custody, full_custody_param, vm_role, max_count, min_count, scaling_limit_time,
        createdby, created_time, modifiedby, modified_time, is_valid
    </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_group_elastic_scaling
        where group_es_id = #{groupEsId,jdbcType=VARCHAR}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        delete from conf_group_elastic_scaling
        where group_es_id = #{groupEsId,jdbcType=VARCHAR}
    </delete>
    <insert id="insert" parameterType="com.sunbox.domain.ConfGroupElasticScaling">
        insert into conf_group_elastic_scaling (group_es_id, cluster_id, group_name,
                                                is_graceful_scalein, scalein_waiting_time, enable_beforestart_script,
                                                enable_afterstart_script, is_full_custody, full_custody_param,
                                                vm_role, max_count, min_count,
                                                scaling_limit_time, createdby, created_time,
                                                modifiedby, modified_time, is_valid)
        values (#{groupEsId,jdbcType=VARCHAR},
                #{clusterId,jdbcType=VARCHAR},
                #{groupName,jdbcType=VARCHAR},
                #{isGracefulScalein,jdbcType=INTEGER},
                #{scaleinWaitingTime,jdbcType=INTEGER},
                #{enableBeforestartScript,jdbcType=INTEGER},
                #{enableAfterstartScript,jdbcType=INTEGER},
                #{isFullCustody,jdbcType=INTEGER},
                #{fullCustodyParam,jdbcType=VARCHAR},
                #{vmRole,jdbcType=VARCHAR},
                #{maxCount,jdbcType=INTEGER},
                #{minCount,jdbcType=INTEGER},
                #{scalingLimitTime,jdbcType=TIMESTAMP},
                #{createdby,jdbcType=VARCHAR},
                #{createdTime,jdbcType=TIMESTAMP},
                #{modifiedby,jdbcType=VARCHAR},
                #{modifiedTime,jdbcType=TIMESTAMP},
                #{isValid,jdbcType=INTEGER})
    </insert>
    <insert id="insertSelective" parameterType="com.sunbox.domain.ConfGroupElasticScaling">
        insert into conf_group_elastic_scaling
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="groupEsId != null">
                group_es_id,
            </if>
            <if test="clusterId != null">
                cluster_id,
            </if>
            <if test="groupName != null">
                group_name,
            </if>
            <if test="isGracefulScalein != null">
                is_graceful_scalein,
            </if>
            <if test="scaleinWaitingTime != null">
                scalein_waiting_time,
            </if>
            <if test="enableBeforestartScript != null">
                enable_beforestart_script,
            </if>
            <if test="enableAfterstartScript != null">
                enable_afterstart_script,
            </if>
            <if test="isFullCustody != null">
                is_full_custody,
            </if>
            <if test="fullCustodyParam != null">
                full_custody_param,
            </if>
            <if test="vmRole != null">
                vm_role,
            </if>
            <if test="maxCount != null">
                max_count,
            </if>
            <if test="minCount != null">
                min_count,
            </if>
            <if test="scalingLimitTime != null">
                scaling_limit_time,
            </if>
            <if test="createdby != null">
                createdby,
            </if>
            <if test="createdTime != null">
                created_time,
            </if>
            <if test="modifiedby != null">
                modifiedby,
            </if>
            <if test="modifiedTime != null">
                modified_time,
            </if>
            <if test="isValid != null">
                is_valid,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="groupEsId != null">
                #{groupEsId,jdbcType=VARCHAR},
            </if>
            <if test="clusterId != null">
                #{clusterId,jdbcType=VARCHAR},
            </if>
            <if test="groupName != null">
                #{groupName,jdbcType=VARCHAR},
            </if>
            <if test="isGracefulScalein != null">
                #{isGracefulScalein,jdbcType=INTEGER},
            </if>
            <if test="scaleinWaitingTime != null">
                #{scaleinWaitingTime,jdbcType=INTEGER},
            </if>
            <if test="enableBeforestartScript != null">
                #{enableBeforestartScript,jdbcType=INTEGER},
            </if>
            <if test="enableAfterstartScript != null">
                #{enableAfterstartScript,jdbcType=INTEGER},
            </if>
            <if test="isFullCustody != null">
                #{isFullCustody,jdbcType=INTEGER},
            </if>
            <if test="fullCustodyParam != null">
                #{fullCustodyParam,jdbcType=VARCHAR},
            </if>
            <if test="vmRole != null">
                #{vmRole,jdbcType=VARCHAR},
            </if>
            <if test="maxCount != null">
                #{maxCount,jdbcType=INTEGER},
            </if>
            <if test="minCount != null">
                #{minCount,jdbcType=INTEGER},
            </if>
            <if test="scalingLimitTime != null">
                #{scalingLimitTime,jdbcType=TIMESTAMP},
            </if>
            <if test="createdby != null">
                #{createdby,jdbcType=VARCHAR},
            </if>
            <if test="createdTime != null">
                #{createdTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modifiedby != null">
                #{modifiedby,jdbcType=VARCHAR},
            </if>
            <if test="modifiedTime != null">
                #{modifiedTime,jdbcType=TIMESTAMP},
            </if>
            <if test="isValid != null">
                #{isValid,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.sunbox.domain.ConfGroupElasticScaling">
        update conf_group_elastic_scaling
        <set>
            <if test="clusterId != null">
                cluster_id = #{clusterId,jdbcType=VARCHAR},
            </if>
            <if test="groupName != null">
                group_name = #{groupName,jdbcType=VARCHAR},
            </if>
            <if test="isGracefulScalein != null">
                is_graceful_scalein = #{isGracefulScalein,jdbcType=INTEGER},
            </if>
            <if test="scaleinWaitingTime != null">
                scalein_waiting_time = #{scaleinWaitingTime,jdbcType=INTEGER},
            </if>
            <if test="enableBeforestartScript != null">
                enable_beforestart_script = #{enableBeforestartScript,jdbcType=INTEGER},
            </if>
            <if test="enableAfterstartScript != null">
                enable_afterstart_script = #{enableAfterstartScript,jdbcType=INTEGER},
            </if>
            <if test="isFullCustody != null">
                is_full_custody = #{isFullCustody,jdbcType=INTEGER},
            </if>
            <if test="fullCustodyParam != null">
                full_custody_param = #{fullCustodyParam,jdbcType=VARCHAR},
            </if>
            <if test="vmRole != null">
                vm_role = #{vmRole,jdbcType=VARCHAR},
            </if>
            <if test="maxCount != null">
                max_count = #{maxCount,jdbcType=INTEGER},
            </if>
            <if test="minCount != null">
                min_count = #{minCount,jdbcType=INTEGER},
            </if>
            <if test="scalingLimitTime != null">
                scaling_limit_time = #{scalingLimitTime,jdbcType=TIMESTAMP},
            </if>
            <if test="createdby != null">
                createdby = #{createdby,jdbcType=VARCHAR},
            </if>
            <if test="createdTime != null">
                created_time = #{createdTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modifiedby != null">
                modifiedby = #{modifiedby,jdbcType=VARCHAR},
            </if>
            <if test="modifiedTime != null">
                modified_time = #{modifiedTime,jdbcType=TIMESTAMP},
            </if>
            <if test="isValid != null">
                is_valid = #{isValid,jdbcType=INTEGER},
            </if>
        </set>
        where group_es_id = #{groupEsId,jdbcType=VARCHAR}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.sunbox.domain.ConfGroupElasticScaling">
        update conf_group_elastic_scaling
        set cluster_id = #{clusterId,jdbcType=VARCHAR},
        group_name = #{groupName,jdbcType=VARCHAR},
            is_graceful_scalein = #{isGracefulScalein,jdbcType=INTEGER},
            scalein_waiting_time = #{scaleinWaitingTime,jdbcType=INTEGER},
            enable_beforestart_script = #{enableBeforestartScript,jdbcType=INTEGER},
            enable_afterstart_script = #{enableAfterstartScript,jdbcType=INTEGER},
            is_full_custody = #{isFullCustody,jdbcType=INTEGER},
            full_custody_param = #{fullCustodyParam,jdbcType=VARCHAR},
        vm_role = #{vmRole,jdbcType=VARCHAR},
        max_count = #{maxCount,jdbcType=INTEGER},
        min_count = #{minCount,jdbcType=INTEGER},
        scaling_limit_time = #{scalingLimitTime,jdbcType=TIMESTAMP},
        createdby = #{createdby,jdbcType=VARCHAR},
        created_time = #{createdTime,jdbcType=TIMESTAMP},
        modifiedby = #{modifiedby,jdbcType=VARCHAR},
        modified_time = #{modifiedTime,jdbcType=TIMESTAMP},
        is_valid = #{isValid,jdbcType=INTEGER}
        where group_es_id = #{groupEsId,jdbcType=VARCHAR}
    </update>
    <update id="updateValid" parameterType="com.sunbox.domain.ConfGroupElasticScaling">
        update conf_group_elastic_scaling
        set is_valid=#{isValid,jdbcType=INTEGER}
        where cluster_id=#{clusterId,jdbcType=VARCHAR} and group_name=#{groupName,jdbcType=VARCHAR}
    </update>
    <select id="listByValid" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_group_elastic_scaling
        where is_valid = 1
    </select>
    <select id="selectByClusterIdAndGroupName" parameterType="java.lang.String" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_group_elastic_scaling
        where cluster_id = #{clusterId,jdbcType=VARCHAR}
        and group_name = #{groupName,jdbcType=VARCHAR}
    </select>

    <select id="selectByClusterIdAndFullCustodyAndValid" parameterType="java.lang.String" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_group_elastic_scaling
        where cluster_id = #{clusterId,jdbcType=VARCHAR}
        and is_full_custody = 1
        and is_valid = 1
    </select>
    <select id="selectByClusterIdAndGroupNameAndValid" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_group_elastic_scaling
        where cluster_id = #{clusterId,jdbcType=VARCHAR}
        and group_name = #{groupName,jdbcType=VARCHAR}
        and is_valid = 1
    </select>
    <select id="listByClusterIdAndGroupNameAndValid" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_group_elastic_scaling
        where cluster_id = #{clusterId,jdbcType=VARCHAR}
        and group_name = #{groupName,jdbcType=VARCHAR}
        and is_valid = 1
        order by created_time desc
    </select>
    <select id="listByClusterIdAndGroupName" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_group_elastic_scaling
        where cluster_id = #{clusterId,jdbcType=VARCHAR}
        and group_name = #{groupName,jdbcType=VARCHAR}
        order by created_time desc
    </select>
</mapper>