<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunbox.dao.mapper.ConfClusterVmDataVolumeMapper">
    <resultMap id="BaseResultMap" type="com.sunbox.domain.ConfClusterVmDataVolume">
        <id column="volume_conf_id" jdbcType="VARCHAR" property="volumeConfId"/>
        <result column="vm_conf_id" jdbcType="VARCHAR" property="vmConfId"/>
        <result column="data_volume_type" jdbcType="VARCHAR" property="dataVolumeType"/>
        <result column="data_volume_size" jdbcType="INTEGER" property="dataVolumeSize"/>
        <result column="local_volume_type" jdbcType="VARCHAR" property="localVolumeType"/>
        <result column="count" jdbcType="INTEGER" property="count"/>
        <result column="iops" jdbcType="INTEGER" property="iops"/>
        <result column="throughput" jdbcType="INTEGER" property="throughput"/>
    </resultMap>
    <sql id="Base_Column_List">
        volume_conf_id, vm_conf_id, data_volume_type, data_volume_size, count,local_volume_type, iops, throughput
    </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_cluster_vm_data_volume
        where volume_conf_id = #{volumeConfId,jdbcType=VARCHAR}
    </select>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        delete from conf_cluster_vm_data_volume
        where volume_conf_id = #{volumeConfId,jdbcType=VARCHAR}
    </delete>
    <insert id="insert" parameterType="com.sunbox.domain.ConfClusterVmDataVolume">
        insert into conf_cluster_vm_data_volume (volume_conf_id, vm_conf_id, data_volume_type,
        data_volume_size, count,local_volume_type, iops, throughput)
        values (#{volumeConfId,jdbcType=VARCHAR}, #{vmConfId,jdbcType=VARCHAR}, #{dataVolumeType,jdbcType=VARCHAR},
        #{dataVolumeSize,jdbcType=INTEGER}, #{count,jdbcType=INTEGER},#{localVolumeType,jdbcType=VARCHAR}),
        #{iops,jdbcType=INTEGER}, #{throughput,jdbcType=INTEGER}
    </insert>
    <insert id="insertSelective" parameterType="com.sunbox.domain.ConfClusterVmDataVolume">
        insert into conf_cluster_vm_data_volume
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="volumeConfId != null">
                volume_conf_id,
            </if>
            <if test="vmConfId != null">
                vm_conf_id,
            </if>
            <if test="dataVolumeType != null">
                data_volume_type,
            </if>
            <if test="dataVolumeSize != null">
                data_volume_size,
            </if>
            <if test="count != null">
                count,
            </if>
            <if test="localVolumeType != null">
                local_volume_type,
            </if>
            <if test="iops != null">
                iops,
            </if>
            <if test="throughput != null">
                throughput,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="volumeConfId != null">
                #{volumeConfId,jdbcType=VARCHAR},
            </if>
            <if test="vmConfId != null">
                #{vmConfId,jdbcType=VARCHAR},
            </if>
            <if test="dataVolumeType != null">
                #{dataVolumeType,jdbcType=VARCHAR},
            </if>
            <if test="dataVolumeSize != null">
                #{dataVolumeSize,jdbcType=INTEGER},
            </if>
            <if test="count != null">
                #{count,jdbcType=INTEGER},
            </if>
            <if test="localVolumeType != null">
                #{localVolumeType,jdbcType=VARCHAR},
            </if>
            <if test="iops != null">
                #{iops,jdbcType=INTEGER},
            </if>
            <if test="throughput != null">
                #{throughput,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>
    <insert id="insertBatch">
        insert into conf_cluster_vm_data_volume (volume_conf_id, vm_conf_id, data_volume_type,
        data_volume_size, count,local_volume_type,iops,throughput)
        values
        <foreach collection="vmdatas" item="vmdata" separator=","> <!--open="(" close=")" -->
            (
            #{vmdata.volumeConfId,jdbcType=VARCHAR},
            #{vmdata.vmConfId,jdbcType=VARCHAR},
            #{vmdata.dataVolumeType,jdbcType=VARCHAR},
            #{vmdata.dataVolumeSize,jdbcType=INTEGER},
            #{vmdata.count,jdbcType=INTEGER},
            #{vmdata.localVolumeType,jdbcType=VARCHAR},
            #{vmdata.iops,jdbcType=INTEGER},
            #{vmdata.throughput,jdbcType=INTEGER}
            )
        </foreach>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.sunbox.domain.ConfClusterVmDataVolume">
        update conf_cluster_vm_data_volume
        <set>
            <if test="vmConfId != null">
                vm_conf_id = #{vmConfId,jdbcType=VARCHAR},
            </if>
            <if test="dataVolumeType != null">
                data_volume_type = #{dataVolumeType,jdbcType=VARCHAR},
            </if>
            <if test="dataVolumeSize != null">
                data_volume_size = #{dataVolumeSize,jdbcType=INTEGER},
            </if>
            <if test="count != null">
                count = #{count,jdbcType=INTEGER},
            </if>
            <if test="localVolumeType != null">
                local_volume_type= #{localVolumeType,jdbcType=VARCHAR},
            </if>
            <if test="iops != null">
                iops = #{iops,jdbcType=INTEGER},
            </if>
            <if test="throughput != null">
                throughput = #{throughput,jdbcType=INTEGER},
            </if>
        </set>
        where volume_conf_id = #{volumeConfId,jdbcType=VARCHAR}
    </update>
    <update id="updateByVmConfId" parameterType="com.sunbox.domain.ConfClusterVmDataVolume">
        update conf_cluster_vm_data_volume
        <set>
            <if test="dataVolumeType != null">
                data_volume_type = #{dataVolumeType,jdbcType=VARCHAR},
            </if>
            <if test="dataVolumeSize != null">
                data_volume_size = #{dataVolumeSize,jdbcType=INTEGER},
            </if>
            <if test="count != null">
                count = #{count,jdbcType=INTEGER},
            </if>
            <if test="localVolumeType != null">
                local_volume_type= #{localVolumeType,jdbcType=VARCHAR},
            </if>
            <if test="iops != null">
                iops = #{iops,jdbcType=INTEGER},
            </if>
            <if test="throughput != null">
                throughput = #{throughput,jdbcType=INTEGER}
            </if>
        </set>
        where vm_conf_id = #{vmConfId,jdbcType=VARCHAR}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.sunbox.domain.ConfClusterVmDataVolume">
        update conf_cluster_vm_data_volume
        set vm_conf_id = #{vmConfId,jdbcType=VARCHAR},
        data_volume_type = #{dataVolumeType,jdbcType=VARCHAR},
        data_volume_size = #{dataVolumeSize,jdbcType=INTEGER},
        count = #{count,jdbcType=INTEGER},
        local_volume_type= #{localVolumeType,jdbcType=VARCHAR},
        iops= #{iops,jdbcType=INTEGER},
        throughput= #{throughput,jdbcType=INTEGER}
        where volume_conf_id = #{volumeConfId,jdbcType=VARCHAR}
    </update>

    <select id="selectByVmConfId" parameterType="java.lang.String" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List" />
        from conf_cluster_vm_data_volume
        where vm_conf_id = #{vmConfId,jdbcType=VARCHAR}
    </select>

    <select id="selectByVmConfIds" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from conf_cluster_vm_data_volume
        <where>
            <if test="vmConfIds != null and vmConfIds.size >0">
                vm_conf_id in
                <foreach collection="vmConfIds" item="vmConfId" open="(" separator="," close=")">
                    #{vmConfId,jdbcType=VARCHAR}
                </foreach>
            </if>
            <if test="vmConfIds == null or vmConfIds.size ==0">
                1=0
            </if>
        </where>
    </select>
</mapper>