{"version":3,"sources":["webpack:///./src/components/list-comps/container.vue?b251","webpack:///./src/components/base/remote-select/remote-select.vue?58bf","webpack:///./src/views/task-center/detail.vue","webpack:///./src/views/task-center/detail.vue?2698","webpack:///./src/components/list-comps/container.vue","webpack:///./src/components/list-comps/container.vue?60b0","webpack:///./src/components/list-comps/list-utils.js","webpack:///./src/components/list-comps/filters.vue?4c49","webpack:///./src/components/base/remote-select/remote-select.vue","webpack:///./src/components/base/remote-select/remote-select.vue?bcef","webpack:///./src/components/list-comps/filters.vue","webpack:///./src/components/list-comps/filters.vue?83c3","webpack:///./src/views/task-center/detail.vue?b9a2","webpack:///./src/api/task-center.js"],"names":["detailData","toRefs","props","__exports__","class","ref","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","_renderSlot","_ctx","data","tableHeight","tableData","showOperation","_hoisted_3","_hoisted_4","_createVNode","_component_el_pagination","background","onSizeChange","$options","onCurrentChange","currentPage","page-size","layout","total","name","components","listApiFunction","type","Function","default","defaultArgs","Object","operationWidth","Number","pageSize","lastArgs","zoomRight","loading","methods","zoomOptEvent","this","handleSizeChange","val","console","log","maxIndex","Math","ceil","loadData","handleCurrentChange","filterEvent","args","pageIndex","then","res","result","$nextTick","$message","error","errorMsg","finally","mounted","dom","$refs","Ref_Base_Table","offsetHeight","render","getButtonIcon","iconName","comp","Search","Plus","Delete","Filter","Download","Close","Document","Refresh","eventApi","apiUrl","Promise","resolve","http","post","ElMessage","message","doEvent","eventAttrs","reject","tip","ElMessageBox","confirm","confirmButtonText","cancelButtonText","catch","showJsDialog","pageUrl","router","push","opBtnShow","btnConf","rowData","userInfo","store","state","showRule","eval","e","options","optionsApi","optionsDefaultArgs","optionsProps","optionsList","selectChange","selValue","itemData","value","find","item","emit","getOptionsData","labelKey","valueKey","label","arr","map","err","filterData","reactive","filters","initFilters","forEach","key","option","itm","selOptionType","comboBoxTypeChange","onSearch","onReset","getCompWithType","RemoteSelect","taskCenter","list","getjobdetail"],"mappings":"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","file":"js/chunk-365e9539.cdbae373.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./container.vue?vue&type=style&index=0&id=6880d85b&lang=stylus&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./remote-select.vue?vue&type=style&index=0&id=baf5f552&lang=stylus&scoped=true\"","/**Created by liaoyingchao on 12/9/22.*/\n\n<template>\n  <div class=\"detail detail-css\">\n    <div class=\"detail-block-div\">\n      <div class=\"sub-title\">任务参数</div>\n      <div class=\"detail-items\">\n        <div class=\"flex-row\">\n          <div class=\"detail-item\">\n            <div class=\"label\" style=\"width: 150px;\">Ambari/Master节点数</div>\n            <div class=\"value\">{{ parseInt(detailData.ambariNum || 0) + parseInt(detailData.masterNum || 0) }}</div>\n          </div>\n          <div class=\"detail-item\">\n            <div class=\"label\">Core节点数</div>\n            <div class=\"value\">{{ detailData.coreNum }}</div>\n          </div>\n        </div>\n        <div class=\"flex-row\">\n          <div class=\"detail-item\">\n            <div class=\"label\">Task节点数</div>\n            <div class=\"value\">{{ detailData.taskNum }}</div>\n          </div>\n          <div class=\"detail-item\">\n            <div class=\"label\">服务信息</div>\n            <div class=\"value\">{{ detailData.serviceInfos }}</div>\n          </div>\n        </div>\n        <div class=\"flex-row\">\n          <div class=\"detail-item\">\n            <div class=\"label\">集群名称</div>\n            <div class=\"value\">{{ detailData.clusterName }}</div>\n          </div>\n          <div class=\"detail-item\">\n            <div class=\"label\">高可用</div>\n            <div class=\"value\">{{ detailData.isHa ? '是' : '否' }}</div>\n          </div>\n        </div>\n        <div class=\"flex-row\">\n          <el-table :data=\"detailData.activityInfos\" header-row-class-name=\"theader\" border style=\"width: 100%\">\n            <el-table-column prop=\"sortNo\" label=\"序号\" width=\"80\">\n              <template #default=\"scope\">\n                {{ scope.row.sortNo + 1 }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"activityName\" label=\"步骤名称\" min-width=\"100\"></el-table-column>\n            <el-table-column prop=\"state\" label=\"状态\" width=\"100\"></el-table-column>\n            <el-table-column prop=\"begTime\" label=\"开始时间\" min-width=\"120\"></el-table-column>\n            <el-table-column prop=\"endTime\" label=\"结束时间\" min-width=\"120\"></el-table-column>\n            <el-table-column prop=\"scriptPath\" label=\"操作\" width=\"100\">\n              <template #default=\"scope\">\n                -\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { ref, reactive, defineEmits, defineProps, toRefs } from 'vue'\n\n  // const emit = defineEmits(['onSearch', 'onReset'])\n\n  const props = defineProps({\n    detailData: {\n      type: Object,\n      default: () => [],\n    },\n  })\n\n  const { detailData } = toRefs(props)\n</script>\n\n<style lang=\"stylus\" scoped type=\"text/stylus\">\n  .detail {\n    max-height 70vh;\n    overflow-y auto;\n    margin-bottom -20px;\n    /*.detail-items {\n      .detail-item {\n        .label {\n          width 120px !important;\n        }\n      }\n    }*/\n  }\n</style>","import script from \"./detail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./detail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./detail.vue?vue&type=style&index=0&id=f387f8f0&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/Users/liaoyingchao/sourcetree/sdp-magement-web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f387f8f0\"]])\n\nexport default __exports__","/**Created by liaoyingchao on 5/1/22.*/\n\n<template>\n  <div class=\"table-container\" v-loading.lock=\"loading\">\n    <div class=\"base-table-main\" ref=\"Ref_Base_Table\">\n      <slot v-bind:data=\"{ tableHeight: tableHeight, tableData: tableData, showOperation: showOperation }\" v-if=\"tableHeight\"></slot>\n    </div>\n    <div class=\"base-table-footer\">\n      <div style=\"flex: 1\">\n        <slot name=\"footer\"></slot>\n      </div>\n      <el-pagination\n              background\n              @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :currentPage=\"currentPage\"\n              :page-size=\"pageSize\"\n              layout=\"sizes, total, prev, pager, next\"\n              :total=\"total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"table-container\",\n    components: {},\n    props: {\n      listApiFunction: {\n        type: Function,\n        default: null,\n      },\n      defaultArgs: {\n        type: Object,\n        default: () => {\n          return {}\n        },\n      },\n      operationWidth: {\n        type: Number,\n        default: 0\n      }\n    },\n    data() {\n      return {\n        total: 0,\n        tableHeight: 0,\n        currentPage: 1,\n        pageSize: 20,\n        tableData: [],\n        lastArgs: {},\n        showOperation: true,\n        zoomRight: 30,\n        loading: false,\n      }\n    },\n    methods: {\n      zoomOptEvent() {\n        this.showOperation = !this.showOperation;\n        if (this.showOperation) {\n          this.zoomRight = this.operationWidth\n        } else {\n          this.zoomRight = 30\n        }\n      },\n      handleSizeChange(val) {\n        console.log(`每页 ${val} 条`);\n        this.pageSize = val;\n        let maxIndex = Math.ceil(this.total / this.pageSize)\n        if (maxIndex < this.currentPage) {\n          this.currentPage = maxIndex\n        }\n        this.loadData()\n      },\n      handleCurrentChange(val) {\n        this.currentPage = val\n        this.loadData()\n      },\n      filterEvent(args) {\n        this.lastArgs = args || {}\n        this.currentPage = 1\n        this.loadData()\n      },\n      loadData() {\n        this.lastArgs.pageIndex = this.currentPage\n        this.lastArgs.pageSize = this.pageSize\n\n        if (this.listApiFunction && typeof this.listApiFunction == 'function') {\n          this.loading = true\n          this.listApiFunction(this.lastArgs).then(res => {\n            if (res.result == true) {\n              this.total = res.total\n              this.tableData = []\n              this.$nextTick(() => {\n                this.tableData = res.data\n              })\n            } else {\n              this.$message.error(res.errorMsg)\n            }\n          }).finally(() => {\n            this.loading = false\n          })\n        }\n      }\n    },\n    mounted() {\n      this.lastArgs = this.defaultArgs || {}\n      let dom = this.$refs.Ref_Base_Table\n      this.tableHeight = dom.offsetHeight\n      this.loadData()\n\n      this.zoomRight = this.operationWidth\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"stylus\" scoped type=\"text/stylus\">\n  .table-container {\n    width 100%;\n    height 100%;\n    display flex;\n    flex-direction column;\n    .base-table-main {\n      width 100%;\n      flex 1;\n      position relative;\n    }\n    .base-table-footer {\n      padding 10px;\n      display flex;\n      align-items center;\n    }\n  }\n</style>","import { render } from \"./container.vue?vue&type=template&id=6880d85b&scoped=true\"\nimport script from \"./container.vue?vue&type=script&lang=js\"\nexport * from \"./container.vue?vue&type=script&lang=js\"\n\nimport \"./container.vue?vue&type=style&index=0&id=6880d85b&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/Users/liaoyingchao/sourcetree/sdp-magement-web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6880d85b\"]])\n\nexport default __exports__","import {Search, Plus, Delete, Filter, Download, Close, Document, Refresh} from '@element-plus/icons-vue'\nimport http from '@/utils/http'\nimport {ElMessage, ElMessageBox} from 'element-plus'\nimport router from '@/router/index'\nimport store from \"@/store\"\n\n// import { showJsDialog } from '../form-comps/form-utils'\n\nexport function getButtonIcon(iconName) {\n  let comp = null\n  switch (iconName) {\n    case 'Search':\n      comp = Search\n      break;\n    case 'Plus':\n      comp = Plus\n      break;\n    case 'Delete':\n      comp = Delete\n      break;\n    case 'Filter':\n      comp = Filter\n      break;\n    case 'Download':\n      comp = Download\n      break;\n    case 'Close':\n      comp = Close\n      break;\n    case 'Document':\n      comp = Document\n      break;\n    case 'Refresh':\n      comp = Refresh\n      break;\n  }\n  return comp\n}\n\nfunction eventApi(apiUrl, data) {\n  return new Promise(resolve => {\n    http.post(apiUrl, data).then(res => {\n      if (res.result == 1) {\n        resolve()\n      } else {\n        ElMessage.error(res.message)\n      }\n    })\n  })\n}\n\nexport function doEvent(eventAttrs, data) {\n  return new Promise((resolve, reject) => {\n    let type = eventAttrs.type\n\n    if (type == 'api') {\n      let tip = eventAttrs.tip\n      let apiUrl = eventAttrs.apiUrl || ''\n\n      if (!apiUrl) {\n        ElMessage.error('接口不存在！')\n        reject()\n      } else {\n        if (tip) {\n          ElMessageBox.confirm(tip, '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning',\n          }).then(() => {\n            eventApi(apiUrl, data).then(resolve)\n          }).catch(() => {\n            reject()\n          })\n        } else {\n          eventApi(apiUrl, data).then(resolve).catch(reject)\n        }\n      }\n    } else if (type == 'formdialog') {\n      showJsDialog({\n        data: data,\n        eventAttrs: eventAttrs,\n      }, resolve)\n    } else if (type == 'nextpage') {\n      let pageUrl = eventAttrs.pageUrl || ''\n      if (pageUrl) {\n        router.push(pageUrl)\n      }\n    }\n  })\n}\n\nexport function opBtnShow(btnConf, rowData) {\n  const userInfo = store.state.userInfo || {}\n  let showRule = btnConf.showRule || ''\n  if (showRule) {\n    try {\n      return eval(showRule)\n    } catch (e) {\n      console.log(e)\n      return false\n    }\n  } else {\n    return true\n  }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./filters.vue?vue&type=style&index=0&id=65785c85&lang=stylus&scoped=true\"","/**Created by liaoyingchao on 2/15/22.*/\n\n<template>\n  <el-select class=\"remote-select\" @change=\"selectChange\">\n    <el-option v-for=\"item in optionsList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n  </el-select>\n</template>\n\n<script setup>\n  import { reactive, ref, onMounted, defineProps, defineEmits, toRefs } from 'vue'\n  import http from '@/utils/http'\n  import { ElMessage, ElSelect, ElOption } from 'element-plus'\n\n  const emit = defineEmits(['change'])\n\n  const props = defineProps({\n    options: Array, // 数据选项\n    optionsApi: String, // 请求数据接口\n    optionsDefaultArgs: Object, // 请求数据接口参数\n    optionsProps: Object, // label 和 value 的key\n  })\n\n  let {options, optionsApi, optionsDefaultArgs, optionsProps} = toRefs(props)\n  const optionsList = ref([])\n  optionsList.value = options.value\n\n  function selectChange(selValue) {\n    let itemData = optionsList.value.find(item => {\n      return item.value == selValue\n    }) || {}\n    emit('change', itemData)\n  }\n\n  function getOptionsData() {\n    let args = {}\n    if (optionsDefaultArgs.value) {\n      args = optionsDefaultArgs.value\n    }\n    http.post(optionsApi.value, args).then((res) => {\n      if (res.result == 1) {\n        let labelKey = '',\n          valueKey = ''\n        if (optionsProps.value) {\n          labelKey = optionsProps.value.label\n          valueKey = optionsProps.value.value\n        }\n        if (labelKey && valueKey) {\n          let arr = res.data || []\n          optionsList.value = arr.map((item) => {\n            return {\n              label: item[labelKey],\n              value: item[valueKey],\n            }\n          })\n        } else {\n          optionsList.value = res.data\n        }\n      } else {\n        ElMessage.error({message: res.message})\n      }\n    }).catch((err) => {\n        ElMessage.error({message: `exportOrder err ${err}`})\n      })\n  }\n\n  if (optionsApi.value) {\n    getOptionsData()\n  }\n</script>\n\n<style lang=\"stylus\" scoped type=\"text/stylus\">\n  .remote-select {\n    width 100%;\n  }\n</style>\n","import script from \"./remote-select.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./remote-select.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./remote-select.vue?vue&type=style&index=0&id=baf5f552&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/Users/liaoyingchao/sourcetree/sdp-magement-web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-baf5f552\"]])\n\nexport default __exports__","/**Created by liaoyingchao on 5/1/22.*/\n\n<template>\n  <div class=\"filters\">\n    <el-form @submit.native.prevent :model=\"filterData\" label-width=\"115px\">\n      <div class=\"filter-items\">\n        <template v-for=\"(item, idx) in filters\">\n          <template v-if=\"item.type == 'combo-box'\">\n            <el-form-item :prop=\"item.key\" :label=\"item.label\" :key=\"idx\">\n              <template #label=\"label\">\n                <el-select v-model=\"item.key\" @change=\"comboBoxTypeChange(item)\">\n                  <el-option\n                          v-for=\"option in item.options\"\n                          :key=\"option.key\"\n                          :label=\"option.label\"\n                          :value=\"option.key\"\n                  />\n                </el-select>\n              </template>\n              <component :is=\"getCompWithType(item.selOptionType)\" v-model=\"filterData[item.key]\" v-bind=\"item.props\" @keyup.enter.native=\"onSearch\"></component>\n            </el-form-item>\n          </template>\n          <template v-else>\n            <el-form-item :prop=\"item.key\" :label=\"item.label\" :key=\"item.key\">\n              <component :is=\"getCompWithType(item.type)\" v-model=\"filterData[item.key]\" v-bind=\"item.props\" @keyup.enter.native=\"onSearch\" style=\"width: 100%;\"></component>\n            </el-form-item>\n          </template>\n        </template>\n        <div class=\"btns-div\">\n          <el-button type=\"primary\" @click=\"onSearch\">\n            <el-icon style=\"vertical-align: middle\">\n              <component :is=\"getButtonIcon('Search')\"/>\n            </el-icon>\n            <span style=\"vertical-align: middle\">搜索</span>\n          </el-button>\n          <el-button @click=\"onReset\">\n            <el-icon style=\"vertical-align: middle\">\n              <component :is=\"getButtonIcon('Refresh')\"/>\n            </el-icon>\n            <span style=\"vertical-align: middle\">重置</span>\n          </el-button>\n          <!--<el-button @click=\"onReset\">-->\n            <!--<el-icon style=\"vertical-align: middle\">-->\n              <!--<component :is=\"getButtonIcon('Refresh')\"/>-->\n            <!--</el-icon>-->\n            <!--<span style=\"vertical-align: middle\">重置</span>-->\n          <!--</el-button>-->\n        </div>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script setup>\n  import { ref, reactive, defineEmits, defineProps, toRefs } from 'vue'\n  import { getButtonIcon } from \"./list-utils\";\n  import { doEvent, opBtnShow } from \"@/components/list-comps/list-utils\";\n  import RemoteSelect from \"@/components/base/remote-select/remote-select.vue\"\n\n  const emit = defineEmits(['onSearch', 'onReset'])\n\n  const props = defineProps({\n    filters: {\n      type: Array,\n      default: () => [],\n    },\n  })\n\n  const filterData = reactive({})\n\n  const { filters } = toRefs(props)\n\n  function initFilters() {\n    filters.value.forEach(item => {\n      if (item.type == 'combo-box') {\n        let key = item.key\n        let option = null\n        if (key) {\n          filterData[item.key] = item.default || ''\n          option = item.options.find(itm => {\n            return itm.key == key\n          }) || null\n        }\n        if (option == null) {\n          option = item.options[0]\n        }\n        item.key = option.key\n        item.props = option.props\n        item.selOptionType = option.type\n      } else {\n        filterData[item.key] = item.default || ''\n      }\n    })\n  }\n\n  initFilters()\n\n  function comboBoxTypeChange(item) {\n    item.options.forEach(itm => {\n      filterData[itm.key] = itm.default || ''\n    })\n\n    let key = item.key\n    let option = item.options.find(itm => {\n      return itm.key == key\n    })\n    item.key = option.key\n    item.props = option.props\n    item.selOptionType = option.type\n  }\n\n  const onSearch = () => {\n    emit('onSearch', filterData)\n  }\n\n  const onReset = () => {\n    initFilters();\n\n    emit('onReset', filterData)\n  }\n\n  const getCompWithType = (type) => {\n    switch (type) {\n      case 'RemoteSelect':\n        return RemoteSelect\n    }\n    return type\n  }\n\n</script>\n\n<style lang=\"stylus\" scoped type=\"text/stylus\">\n  .filters {\n    background-color #F8F8F8;\n    padding 15px 10px;\n    .filter-items {\n      /*display flex;\n      align-items flex-start;\n      flex-wrap wrap;*/\n      display grid;\n      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n      grid-gap: 12px;\n      >>>.el-form-item {\n        margin-bottom 0;\n        //margin-right 10px;\n        .el-form-item__content {\n          width 100%;\n          //width 200px;\n        }\n      }\n      .btns-div {\n        // flex-grow: 1;\n        // flex 1;\n        display flex;\n        align-items center;\n        // justify-content flex-end;\n        flex-wrap nowrap;\n        //margin-bottom 18px;\n        text-align right;\n      }\n    }\n  }\n</style>","import script from \"./filters.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./filters.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./filters.vue?vue&type=style&index=0&id=65785c85&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/Users/liaoyingchao/sourcetree/sdp-magement-web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-65785c85\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--12-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--12-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--12-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--12-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./detail.vue?vue&type=style&index=0&id=f387f8f0&lang=stylus&scoped=true\"","import http from '@/utils/http'\n\nconst taskCenter = {\n  list(data) {\n    return http.post('/admin/api/getjoblist', data)\n  },\n  getjobdetail(data) {\n    return http.post('/admin/api/getjobdetail', data)\n  },\n}\n\nexport default taskCenter;"],"sourceRoot":""}