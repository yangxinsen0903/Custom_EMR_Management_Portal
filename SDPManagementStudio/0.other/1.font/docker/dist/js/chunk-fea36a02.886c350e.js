(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fea36a02"],{"4b55":function(e,t,a){"use strict";a("fe19")},e1cb:function(e,t,a){"use strict";a.r(t);var l=a("7a23"),c=a("a893"),r=a("6be2"),o=a("6605"),n=a("de33"),i=a("3ef4");const d=[{text:"今天",value:()=>{const e=new Date,t=new Date;return[t,e]}},{text:"3天内",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-1728e5),[t,e]}},{text:"7天内",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-5184e5),[t,e]}},{text:"30天内",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-25056e5),[t,e]}}];var s=a("2bd7");const b={class:"index page-css list-css"},u={class:"full-container"},p={class:"task-info"},O={class:"task-name"},j={class:"task-id"},m={class:"cluster-info"},f={class:"cluster-name"},v={class:"cluster-id"},w={class:"dialog-footer"};var h={__name:"index",setup(e){const t=Object(l["ref"])(!1),a=(Object(o["d"])(),Object(l["ref"])([{type:"combo-box",key:"clusterName",props:{},selOptionType:"",options:[{type:"el-input",label:"集群名称",rules:[],key:"clusterName",props:{placeholder:"请输入集群名称",clearable:!0}},{type:"el-input",label:"集群ID",rules:[],key:"clusterId",props:{placeholder:"请输入集群ID",clearable:!0}}]},{type:"el-date-picker",label:"时间",key:"time",props:{type:"datetimerange","range-separator":"至",clearable:!0,"start-placeholder":"开始日期","end-placeholder":"结束日期",shortcuts:d,"value-format":"YYYY-MM-DD","disabled-date":e=>!(e<new Date)},selOptionType:""}]));function h(e){return n["a"].list(e)}const N=Object(l["ref"])(null);function V(e){let t=e.time||[];2==t.length?(e.begTime=t[0],e.endTime=t[1]):(e.begTime="",e.endTime=""),N.value.filterEvent(e)}function g(e){V(e)}const D=Object(l["ref"])(!1),y=Object(l["ref"])({});function x(e){t.value=!0,n["a"].getjobdetail({planId:e.planId}).then(e=>{1==e.result?(y.value=e.data,D.value=!0):i["a"].error(e.errorMsg)}).finally(()=>{t.value=!1})}return(e,o)=>{const n=Object(l["resolveComponent"])("el-table-column"),i=Object(l["resolveComponent"])("el-button"),d=Object(l["resolveComponent"])("el-table"),k=Object(l["resolveComponent"])("el-dialog"),C=Object(l["resolveDirective"])("loading");return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("div",b,[Object(l["createVNode"])(Object(l["unref"])(c["a"]),{filters:a.value,onOnSearch:V,onOnReset:g},null,8,["filters"]),Object(l["createElementVNode"])("div",u,[Object(l["createVNode"])(Object(l["unref"])(r["a"]),{ref_key:"TabelContainer",ref:N,listApiFunction:h},{default:Object(l["withCtx"])(e=>[Object(l["createVNode"])(d,{height:e.data.tableHeight,data:e.data.tableData,stripe:"","header-row-class-name":"theader",style:{width:"100%"}},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(n,{prop:"jobName",label:"任务名称/ID","min-width":"120"},{default:Object(l["withCtx"])(e=>[Object(l["createElementVNode"])("div",p,[Object(l["createElementVNode"])("div",O,Object(l["toDisplayString"])(e.row.jobName),1),Object(l["createElementVNode"])("div",j,Object(l["toDisplayString"])(e.row.planId),1)])]),_:1}),Object(l["createVNode"])(n,{prop:"clusterName",label:"集群名称/ID","min-width":"140"},{default:Object(l["withCtx"])(e=>[Object(l["createElementVNode"])("div",m,[Object(l["createElementVNode"])("div",f,Object(l["toDisplayString"])(e.row.clusterName),1),Object(l["createElementVNode"])("div",v,Object(l["toDisplayString"])(e.row.clusterId),1)])]),_:1}),Object(l["createVNode"])(n,{prop:"state",label:"状态",width:"100"}),Object(l["createVNode"])(n,{prop:"begTime",label:"开始时间","min-width":"120"}),Object(l["createVNode"])(n,{prop:"endTime",label:"结束时间","min-width":"120"}),Object(l["createVNode"])(n,{fixed:"right",label:"管理",width:"100"},{default:Object(l["withCtx"])(e=>[Object(l["createElementVNode"])("div",null,[Object(l["createVNode"])(i,{type:"primary",text:"",onClick:t=>x(e.row)},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("任务详情")]),_:2},1032,["onClick"])])]),_:1})]),_:2},1032,["height","data"])]),_:1},512)]),Object(l["createVNode"])(k,{class:"center-dialog",modelValue:D.value,"onUpdate:modelValue":o[1]||(o[1]=e=>D.value=e),title:"任务详情",width:"900","destroy-on-close":""},{footer:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",w,[Object(l["createVNode"])(i,{onClick:o[0]||(o[0]=e=>D.value=!1)},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("关闭")]),_:1})])]),default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",null,[Object(l["createVNode"])(Object(l["unref"])(s["a"]),{detailData:y.value},null,8,["detailData"])])]),_:1},8,["modelValue"])])),[[C,t.value]])}}},N=(a("4b55"),a("d959")),V=a.n(N);const g=V()(h,[["__scopeId","data-v-3c6f7bb3"]]);t["default"]=g},fe19:function(e,t,a){}}]);
//# sourceMappingURL=chunk-fea36a02.886c350e.js.map